<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ²–ç¹© 5 å¤© 4 å¤œè¦ªå­éŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8fafc; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.4s ease-out; }
        .day-card { display: none; }
        .day-card.active { display: block; animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .time-slot { @apply border-l-2 border-blue-400 pl-4 relative mb-6; }
        .time-slot::before { content: ''; @apply absolute w-3 h-3 bg-blue-400 rounded-full -left-[7.5px] top-1; }
        .nav-btn { @apply text-[10px] bg-green-100 text-green-700 px-2 py-1 rounded-md ml-2 inline-flex items-center hover:bg-green-200; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .coffee-break { @apply bg-orange-50 border-l-4 border-orange-300 p-3 rounded-r-lg my-2 text-sm; }
        .meal-tag { @apply inline-block bg-yellow-100 text-yellow-800 text-[10px] px-2 py-0.5 rounded-full font-bold mb-1; }
        .breakfast-tag { @apply inline-block bg-pink-100 text-pink-800 text-[10px] px-2 py-0.5 rounded-full font-bold mb-1 mr-1; }
        .checklist-item { @apply flex items-center space-x-3 p-3 border-b border-gray-50 last:border-0; }
        .checklist-item input[type="checkbox"] { @apply w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500; }
    </style>
</head>
<body class="bg-gray-50 pb-24">

    <!-- Top Navigation Tabs -->
    <header class="bg-blue-600 text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-md mx-auto px-4 pt-4 pb-2">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-xl font-bold">ğŸŒ¸ æ²–ç¹©åˆèˆª ğŸŒ¸</h1>
                <div class="flex space-x-2">
                    <button onclick="setupApiKey()" class="bg-white/20 p-2 rounded-full hover:bg-white/30 transition">
                        <i class="fas fa-key text-sm"></i>
                    </button>
                    <button onclick="toggleAIChat()" class="bg-white/20 p-2 rounded-full hover:bg-white/30 transition">
                        <i class="fas fa-robot text-sm"></i>
                    </button>
                </div>
            </div>
            <div class="flex bg-blue-700/50 rounded-xl p-1 mb-2">
                <button onclick="switchMainTab('itinerary')" id="main-tab-itinerary" class="flex-1 py-2 text-sm font-bold rounded-lg bg-white text-blue-700 transition-all">è¡Œç¨‹è¦åŠƒ</button>
                <button onclick="switchMainTab('preparation')" id="main-tab-preparation" class="flex-1 py-2 text-sm font-bold rounded-lg text-white transition-all">è¡Œå‰æº–å‚™</button>
                <button onclick="switchMainTab('notes')" id="main-tab-notes" class="flex-1 py-2 text-sm font-bold rounded-lg text-white transition-all">æ³¨æ„äº‹é …</button>
            </div>
        </div>
    </header>

    <main class="max-w-md mx-auto p-4">

        <!-- Tab 1: è¡Œç¨‹è¦åŠƒ (å®Œå…¨ä¿ç•™åŸå§‹ç²¾ç´°å…§å®¹) -->
        <div id="content-itinerary" class="tab-content active">
            <!-- Logistics Info -->
            <div class="bg-white rounded-xl p-3 shadow-sm mb-4 border border-blue-100 text-[10px]">
                <div class="flex justify-between mb-1">
                    <span><i class="fas fa-plane-departure mr-1"></i> JAL NU302 (TPE 10:00 - OKA 12:30)</span>
                    <span><i class="fas fa-taxi mr-1"></i> TDV-1965</span>
                </div>
                <div class="flex justify-between">
                    <span><i class="fas fa-plane-arrival mr-1"></i> AirAsia FD231 (OKA 16:55 - TPE 17:30)</span>
                    <span><i class="fas fa-taxi mr-1"></i> TAR-288</span>
                </div>
            </div>

            <!-- Day Selector -->
            <div class="flex space-x-2 mb-6 overflow-x-auto pb-2 no-scrollbar text-xs">
                <button onclick="showDay(1)" id="btn-1" class="day-btn flex-shrink-0 w-16 py-2 rounded-lg bg-blue-600 text-white shadow-md">D1 æ°´æ—é¤¨</button>
                <button onclick="showDay(2)" id="btn-2" class="day-btn flex-shrink-0 w-16 py-2 rounded-lg bg-white text-gray-600 border border-gray-200">D2 å‹•ç‰©åœ’</button>
                <button onclick="showDay(3)" id="btn-3" class="day-btn flex-shrink-0 w-16 py-2 rounded-lg bg-white text-gray-600 border border-gray-200">D3 ç¾åœ‹æ‘</button>
                <button onclick="showDay(4)" id="btn-4" class="day-btn flex-shrink-0 w-16 py-2 rounded-lg bg-white text-gray-600 border border-gray-200">D4 å—éƒ¨</button>
                <button onclick="showDay(5)" id="btn-5" class="day-btn flex-shrink-0 w-16 py-2 rounded-lg bg-white text-gray-600 border border-gray-200">D5 è³¦æ­¸</button>
            </div>

            <div id="days-container">
                <!-- Day 1 -->
                <div id="day-1" class="day-card active">
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">08:00 - 10:00</span>
                        <h3 class="font-bold text-gray-800">æ¡ƒæ©Ÿ T2 èµ·é£›</h3>
                        <p class="text-xs text-gray-600 mt-1">JAL åŒ…å«é£›æ©Ÿé¤ï¼Œå°å­©å¯å…ˆåœ¨æ©Ÿä¸Šç”¨é¤åŠè£œçœ ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">14:00 - 15:00</span>
                        <h3 class="font-bold text-gray-800">é‚£éœ¸æ©Ÿå ´å–è»Š</h3>
                        <p class="text-xs text-gray-600 mt-1">å–è»Šå¾Œç›´æ¥å‰å¾€è±å´åœ°å€ï¼ˆç´„ 15 åˆ†é˜è»Šç¨‹ï¼‰ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">15:15 - 17:00</span>
                        <h3 class="font-bold text-gray-800">DMM Kariyushi æ°´æ—é¤¨ <a href="https://www.google.com/maps/search/DMM+Kariyushi+Aquarium" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <p class="text-xs text-gray-600">å„ªå…ˆçœ‹é­šï¼å®¤å…§å†·æ°£èˆ’é©ï¼Œå°å­©å¯ä»¥è‡ªç”±èµ°å‹•çœ‹è§¸æ‘¸æ± ï¼Œæ¸›ç·©æ­æ©Ÿç–²å‹ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">17:00 - 18:30</span>
                        <h3 class="font-bold text-blue-800">iias è±å´ï¼šå¿«é€Ÿæ¡è²· ğŸ¼</h3>
                        <p class="text-xs text-gray-600">å°±åœ¨éš”å£ã€‚ç›´å¥”è¥¿æ¾å±‹è²·ã€Œé€™å…©å¤©ã€å¿…å‚™çš„å¥¶ç²‰å°¿å¸ƒï¼Œå…¶é¤˜å¤§æ¡è³¼ç•™çµ¦ D2 æˆ– D4ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">19:00 - 20:30</span>
                        <div class="meal-tag">æ™šé¤æ¨è–¦ï¼šé€šå ‚æ‹‰éºµ</div>
                        <h3 class="font-bold text-gray-800">ãƒˆãƒ©ãƒ™ãƒ«ãƒ›ã‚¹ãƒ†ãƒ«naha-de.asobu Check-in <a href="https://www.google.com/maps/search/naha-de.asobu" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <p class="text-xs text-gray-600"> Check-in ä¸¦æ•´ç†ç‰©è³‡ã€‚å°å­©é è¨ˆ 21:00 å‰å°±å¯¢ã€‚</p>
                    </div>
                </div>

                <!-- Day 2 -->
                <div id="day-2" class="day-card">
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">08:30 - 09:30</span>
                        <div class="breakfast-tag">æ¨è–¦æ—©é¤ï¼šç”˜å‘³è™• è¬ä¸¸</div>
                        <h3 class="font-bold text-gray-800">æ™¨é–“æ—©é¤èˆ‡å‡ºç™¼</h3>
                        <p class="text-xs text-gray-600">äº«ç”¨åå¤å±‹å¼çš„é»é£²æ–™é€æ—©é¤æœå‹™ï¼Œé©åˆå°å­©åƒåšç‰‡åå¸ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">10:00 - 11:30</span>
                        <h3 class="font-bold text-gray-800">æ™®å¤©æ»¿å®®åƒæ‹œ <a href="https://www.google.com/maps/search/Futenma+Shrine" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <p class="text-xs text-gray-600">é˜ä¹³çŸ³æ´å…§æ¶¼çˆ½ï¼Œå¸¶å°å­©ç°¡å–®åƒè§€ç¥ˆç¦ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">12:00 - 14:30</span>
                        <h3 class="font-bold text-gray-800">æ²–ç¹©å…’ç«¥ç‹åœ‹ <a href="https://www.google.com/maps/search/Okinawa+Zoo+%26+Museum" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <div class="meal-tag">åˆé¤ï¼šåœ’å€å…§ç°¡å–®ç”¨é¤</div>
                        <p class="text-xs text-gray-600">é‡é»ï¼šé¤µé£Ÿå¤§è±¡é•·é ¸é¹¿ã€‚é€™è£¡æ¯”ä¸€èˆ¬å‹•ç‰©åœ’æ›´é©åˆå¹¼ç«¥èµ°å‹•ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">15:00 - 18:30</span>
                        <h3 class="font-bold text-gray-800">AEON Mall Rycom æ°¸æ—º <a href="https://www.google.com/maps/search/AEON+Mall+Okinawa+Rycom" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <div class="coffee-break">
                            <i class="fas fa-star mr-2 text-orange-400"></i><strong>å¤§äººæ™‚åˆ»ï¼š</strong>å°å­©æ¨è»Šåˆç¡ã€‚é€›æ——è‰¦åº—ï¼ˆAkachan Honpoã€UNIQLOï¼‰ã€‚1 æ¨“å¤§é­šç¼¸æ˜¯å‰›ç¡é†’å°å­©çš„æœ€æ„›ã€‚
                        </div>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">19:00 - 20:30</span>
                        <div class="meal-tag">æ™šé¤ï¼šãã‚‰å£½å¸ (æ°¸æ—ºåº—)</div>
                        <p class="text-xs text-gray-600">è¿´è½‰å£½å¸æ–¹ä¾¿å¸¶å°å­©ï¼Œä¸”æœ‰æ‰­è›‹å¯ä»¥ç©ã€‚</p>
                    </div>
                </div>

                <!-- Day 3 -->
                <div id="day-3" class="day-card">
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">09:00 - 10:30</span>
                        <div class="breakfast-tag">æ¨è–¦æ—©é¤ï¼šè±¬è‚‰è›‹é£¯ç³° (åœ‹éš›é€šæœ¬åº—)</div>
                        <h3 class="font-bold text-gray-800">æ³¢ä¸Šå®® & æµ·ç˜ <a href="https://www.google.com/maps/search/Naminoue+Beach" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <p class="text-xs text-gray-600">æµ·ç˜è¸©æ°´ï¼Œæ²™å­å¾ˆç´°ã€‚é€™æ™‚å€™æ°´æº«æ¶¼çˆ½é©åˆç©ä¸€ä¸‹æ°´ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">11:00 - 13:00</span>
                        <h3 class="font-bold text-gray-800">æµ¦æ·»å¤§å…¬åœ’ <a href="https://www.google.com/maps/search/Urasoe+Dai+Park" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <p class="text-xs text-gray-600">å°ˆå±¬ 1-3 æ­²å¹¼å…’çš„ã€ŒB å€ã€éŠæ¨‚å ´ï¼Œæ”¾é›»çµ•ä½³å ´æ‰€ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">13:30 - 15:30</span>
                        <div class="meal-tag">åˆé¤ï¼šç‰çƒä¹‹ç‰› (åŒ—è°·åº—)</div>
                        <h3 class="font-bold text-gray-800">ç¾æ¿±åœ°å€åˆé¤</h3>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">15:30 - 19:00</span>
                        <h3 class="font-bold text-gray-800">ç¾åœ‹æ‘æ•£ç­– <a href="https://www.google.com/maps/search/American+Village+Okinawa" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <div class="coffee-break">
                            <i class="fas fa-sun mr-2 text-orange-400"></i><strong>å¤§äººæ™‚åˆ»ï¼š</strong>åœ¨ <strong>Zhyvago Coffee</strong> çœ‹æµ·ã€‚ç¾åœ‹æ‘å‚æ™šé»ç‡ˆèˆ‡å¤•é™½éå¸¸æµªæ¼«ã€‚
                        </div>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">19:30 - 21:00</span>
                        <div class="meal-tag">æ™šé¤ï¼šæš–æš®æ‹‰éºµ (ä¸­åŸåº—)</div>
                        <p class="text-xs text-gray-600">å›ç¨‹é€”ä¸­ç”¨é¤ï¼Œé¿é–‹å¸‚å€äººæ½®ã€‚</p>
                    </div>
                </div>

                <!-- Day 4 -->
                <div id="day-4" class="day-card">
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">09:00 - 10:30</span>
                        <div class="breakfast-tag">æ¨è–¦æ—©é¤ï¼šoHacortÃ© Bakery</div>
                        <h3 class="font-bold text-gray-800">ç¾å‘³åå¸æ—©é¤</h3>
                        <p class="text-xs text-gray-600">åœ¨é‚£éœ¸å¸‚å€çš„é«˜è³ªæ„ŸéºµåŒ…æ—©åˆé¤åº—ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">11:00 - 13:30</span>
                        <h3 class="font-bold text-gray-800">å¹³å’Œç¥ˆå¿µå…¬åœ’ <a href="https://www.google.com/maps/search/Okinawa+Peace+Memorial+Park+Playground" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <p class="text-xs text-gray-600">å…¨æ²–ç¹©æœ€å¼·å¹¼å…’å…¬åœ’ï¼Œå°ˆå±¬é®é™½èˆ‡å®‰å…¨åœ°æ¿è¨­æ–½ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">14:00 - 15:30</span>
                        <div class="meal-tag">åˆé¤ï¼šå¥§æ­¦å³¶å¤©å©¦ç¾…</div>
                        <h3 class="font-bold text-gray-800">å¥§æ­¦å³¶çœ‹è²“</h3>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">16:00 - 18:30</span>
                        <h3 class="font-bold text-gray-800">ç€¨é•·å³¶å¤•é™½ <a href="https://www.google.com/maps/search/Umikaji+Terrace+Senagajima" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <div class="coffee-break">
                            <i class="fas fa-plane mr-2 text-orange-400"></i><strong>å¤§äººæ™‚åˆ»ï¼š</strong>çœ‹é£›æ©Ÿèµ·é™ï¼Œå“åšå¹¸ç¦é¬†é¤…ã€‚è‹¥ D1 æ²’è²·å¤ ï¼Œå¯åœ¨æ­¤æ™‚å›é™„è¿‘çš„ iias è£œè²¨ã€‚
                        </div>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">19:00 - 20:30</span>
                        <div class="meal-tag">æ™šé¤ï¼šç€¨é•·å³¶ç¾é£Ÿå»£å ´</div>
                        <p class="text-xs text-gray-600">äº«å—åœ¨æµ·é‚Šçš„æœ€å¾Œä¸€é “æ™šé¤ã€‚</p>
                    </div>
                </div>

                <!-- Day 5 -->
                <div id="day-5" class="day-card">
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">09:00 - 11:00</span>
                        <div class="breakfast-tag">æ¨è–¦æ—©é¤ï¼šé£¯åº—æ—©é¤</div>
                        <h3 class="font-bold text-gray-800">æ‚ é–’é€€æˆ¿</h3>
                        <p class="text-xs text-gray-600">æœ€å¾Œæ•´ç†è¡Œæï¼Œå‰å¾€åœ‹éš›é€šã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">11:00 - 13:00</span>
                        <h3 class="font-bold text-gray-800">åœ‹éš›é€š / ç‰§å¿—å¸‚å ´ <a href="https://www.google.com/maps/search/Kokusai+Dori" target="_blank" class="nav-btn"><i class="fas fa-map-marker-alt mr-1"></i>å°èˆª</a></h3>
                        <p class="text-xs text-gray-600">æœ€å¾Œçš„ä¼´æ‰‹ç¦®è¡åˆºï¼ˆé»‘ç³–ã€è—¥å¦ï¼‰ã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-red-600">13:30 - 14:30</span>
                        <h3 class="font-bold text-gray-800">åŠ æ²¹ã€é‚„è»Šã€å‰å¾€æ©Ÿå ´</h3>
                        <p class="text-xs text-gray-600">14:55 å‰éœ€æŠµé”é‚£éœ¸æ©Ÿå ´ï¼Œè¾¦ç† Air Asia ç™»æ©Ÿæ‰‹çºŒã€‚</p>
                    </div>
                    <div class="time-slot">
                        <span class="text-sm font-bold text-blue-600">16:55 - 17:30</span>
                        <h3 class="font-bold text-gray-800">è¿”æŠµå°ç£</h3>
                        <p class="text-xs text-gray-600">å¹³å®‰å›å®¶ï¼ŒæœŸå¾…ä¸‹æ¬¡æ—…è¡Œã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: è¡Œå‰æº–å‚™ (Checklist) -->
        <div id="content-preparation" class="tab-content">
            <div class="space-y-6">
                <!-- é‡è¦è­‰ä»¶ -->
                <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                    <div class="bg-blue-50 px-4 py-3 border-b border-blue-100 flex items-center justify-between">
                        <span class="font-bold text-blue-800">ğŸªª é‡è¦è­‰ä»¶èˆ‡æ–‡ä»¶</span>
                        <span class="text-[10px] bg-blue-200 text-blue-700 px-2 py-0.5 rounded">ä¸å¯éºå¿˜</span>
                    </div>
                    <div class="p-2">
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">è­·ç…§ (å¤§äººå°å­©å…± 3 æœ¬)</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">å°ç£é§•ç…§æ­£æœ¬ + æ—¥æ–‡è­¯æœ¬ (é–‹è»Šè€…)</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">Visit Japan Web æˆªåœ– (ç™»æ©Ÿç”¨)</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">æ—¥å¹£ç¾é‡‘ + ä¿¡ç”¨å¡ (é›™ç³»çµ±)</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">æµ·å¤–æ—…éŠå¹³å®‰éšªè­‰æ˜</span></label>
                    </div>
                </div>

                <!-- å¯¶å¯¶ç”¨å“ -->
                <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                    <div class="bg-pink-50 px-4 py-3 border-b border-pink-100 font-bold text-pink-800">ğŸ‘¶ å¯¶å¯¶ç”¨å“ (1Y4M)</div>
                    <div class="p-2">
                        <p class="px-4 py-2 text-xs text-gray-500 italic">å»ºè­°ï¼šå°¿å¸ƒåœ¨æ—¥æœ¬è²·ï¼Œè¡Œæç®±ç•™çµ¦æˆ°åˆ©å“</p>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">è¼•ä¾¿æ¨è»Š (å»ºè­°å¯å¹³èºº/æ©Ÿé–€å–è»Š)</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">å¥¶ç²‰åˆ†è£ç›’ / å¥¶ç“¶ x2 / åˆ·å…·</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">å‰¯é£Ÿå“æ–™ç†åŒ… (3-5å¤©é‡)</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">é£Ÿç‰©å‰ª / å¯¶å¯¶é¤å…· / åœå…œ</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">å®‰æ’«ç©å…· / è¢«è¢« / å¥¶å˜´</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">å¸¸å‚™è—¥ (é€€ç‡’/æ„Ÿå†’/è…¸èƒƒ/OKç¹ƒ)</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span class="text-sm">æ³³è¡£ / æ¸¸æ³³å°¿å¸ƒ (ç€¨é•·å³¶ç©æ°´ç”¨)</span></label>
                    </div>
                </div>

                <!-- å¤§äººè¡Œæ -->
                <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                    <div class="bg-green-50 px-4 py-3 border-b border-green-100 font-bold text-green-800">ğŸ‘• å¤§äººè¡Œæå»ºè­°</div>
                    <div class="p-2 text-sm text-gray-700">
                        <div class="px-4 py-2">
                            <p class="font-bold text-xs mb-1">è¡£ç‰©æ•¸é‡åƒè€ƒï¼š</p>
                            <ul class="list-disc list-inside text-xs space-y-1">
                                <li>çŸ­è¢–/è–„é•·è¢– x 5 å¥—</li>
                                <li>è–„å¤–å¥—/é˜²é¢¨å¤–å¥— x 1 (æ²–ç¹©æµ·é¢¨å¤§)</li>
                                <li>è²¼èº«å…§è¡£è¤² x 6 å¥— (å»ºè­°å¤šå¸¶ä¸€å¥—å‚™ç”¨)</li>
                                <li>å¥½èµ°çš„é‹å‹•é‹ x 1 / æ¶¼æ‹–é‹ x 1</li>
                            </ul>
                        </div>
                        <label class="checklist-item"><input type="checkbox"> <span>è¡Œå‹•é›»æº / å……é›»ç·š / è½‰æ¥é ­(æ—¥æœ¬ä¸ç”¨)</span></label>
                        <label class="checklist-item"><input type="checkbox"> <span>å€‹äººç›¥æ´—ä¿é¤Šå“ / éš±å½¢çœ¼é¡</span></label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 3: æ³¨æ„äº‹é … -->
        <div id="content-notes" class="tab-content">
            <div class="space-y-4">
                <!-- é£›è¡Œé ˆçŸ¥ -->
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100">
                    <h3 class="font-bold text-blue-700 mb-3 border-b pb-2 flex items-center">
                        <i class="fas fa-plane-arrival mr-2"></i> æ­æ©Ÿæ³¨æ„äº‹é …
                    </h3>
                    <ul class="text-xs text-gray-600 space-y-3 leading-relaxed">
                        <li><strong>ğŸ›’ æ¨è»Šè¨—é‹ï¼š</strong> å»ºè­°åœ¨æ«ƒå°å ±åˆ°æ™‚è¦æ±‚ã€Œæ©Ÿé–€å–è»Š (Gate Check)ã€ã€‚æ‚¨å¯ä»¥ä¸€è·¯æ¨åˆ°ç™»æ©Ÿå£äº¤çµ¦åœ°å‹¤ï¼Œä¸‹æ©Ÿæ™‚åœ¨æ©Ÿé–€é ˜å–ï¼Œæ¸›å°‘åœ¨æ©Ÿå ´æŠ±å°å­©çš„é«”åŠ›æ¶ˆè€—ã€‚</li>
                        <li><strong>ğŸ¼ é™è½å®‰æ’«ï¼š</strong> 1æ­²å¤šå¯¶å¯¶è€³å£“ä¸é©æ™‚ï¼Œè«‹åœ¨èµ·é£›èˆ‡é™è½æ™‚è®“å¯¶å¯¶ã€Œå–å¥¶ã€æˆ–ã€Œå¸å¥¶å˜´ã€ï¼Œå¼•å°ååš¥å‹•ä½œå¯ç·©è§£ç–¼ç—›ã€‚</li>
                        <li><strong>ğŸ± å¯¶å¯¶é¤ï¼š</strong> JAL é€šå¸¸éœ€æå‰é ç´„å¯¶å¯¶é¤ (Baby Meal)ï¼Œè«‹å‡ºç™¼å‰ 3 å¤©ç¢ºèªã€‚AirAsia ç‚ºå»‰èˆªï¼Œéœ€è‡ªå‚™å¯¶å¯¶é›¶é£Ÿã€‚</li>
                    </ul>
                </div>

                <!-- è‡ªé§•é ˆçŸ¥ -->
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100">
                    <h3 class="font-bold text-green-700 mb-3 border-b pb-2 flex items-center">
                        <i class="fas fa-car mr-2"></i> æ²–ç¹©è‡ªé§•å®‰å…¨
                    </h3>
                    <ul class="text-xs text-gray-600 space-y-3 leading-relaxed">
                        <li><strong>ğŸ’º å…’ç«¥åº§æ¤…ï¼š</strong> æ—¥æœ¬æ³•å¾‹è¦å®š 6 æ­²ä»¥ä¸‹å¼·åˆ¶ä½¿ç”¨ã€‚å–è»Šæ™‚è«‹å‹™å¿…ç¢ºèªåº§æ¤…å®‰è£ç©©å›ºï¼Œä¸å¯å› ç‚ºå¯¶å¯¶å“­é¬§å°±æŠ±åœ¨æ‡·è£¡ã€‚</li>
                        <li><strong>ğŸš¦ äº¤é€šå®ˆå‰‡ï¼š</strong> ã€Œå³é§•ã€æ–°æ‰‹è«‹è¨˜å¾—ï¼šè½‰å½æ™‚ã€Œå·¦å°å³å¤§ã€ã€‚æ²–ç¹©å¸‚å€é€Ÿé™è¼ƒä½ (40-50km)ï¼Œè«‹å‹¿æ¶å¿«ã€‚</li>
                        <li><strong>ğŸ…¿ï¸ åœè»Šï¼š</strong> æ™¯é»å¤šæœ‰å…è²»åœè»Šï¼Œä½†é‚£éœ¸å¸‚å€é£¯åº—å¤šéœ€å¦ä»˜ 1000-1500å††/æ™šã€‚</li>
                    </ul>
                </div>

                <!-- é£²é£Ÿé ˆçŸ¥ -->
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100">
                    <h3 class="font-bold text-orange-700 mb-3 border-b pb-2 flex items-center">
                        <i class="fas fa-utensils mr-2"></i> é£²é£Ÿèˆ‡è£œè²¨
                    </h3>
                    <ul class="text-xs text-gray-600 space-y-3 leading-relaxed">
                        <li><strong>ğŸ¶ æ³¡å¥¶ç”¨æ°´ï¼š</strong> æ—¥æœ¬è‡ªä¾†æ°´å¯ç”Ÿé£²ä½†å«ç¤¦ç‰©è³ªï¼Œå»ºè­°åœ¨è¶…å¸‚è³¼è²·æ¨™è¨»ã€Œç´”æ°´ã€æˆ–å¯¶å¯¶å°ˆç”¨çš„ç“¶è£æ°´æ³¡å¥¶ã€‚</li>
                        <li><strong>ğŸ¤± è¦ªå­è¨­æ–½ï¼š</strong> æ²–ç¹©ç™¾è²¨å…¬å¸ (AEON, iias) çš„å“ºä¹³å®¤è¨­å‚™éå¸¸å®Œå–„ (ç†±æ°´ã€å°¿å¸ƒå°ã€éš±ç§éš”é–“)ï¼Œå¯æ”¾å¿ƒå®‰æ’é•·æ™‚é–“é€›è¡—ã€‚</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- AI Chat Modal (Logic remains same) -->
        <div id="ai-modal" class="fixed inset-0 bg-black/50 z-[60] hidden flex items-center justify-center p-4">
            <div class="bg-white w-full max-w-sm rounded-2xl shadow-2xl flex flex-col max-h-[80vh]">
                <div class="p-4 border-b flex justify-between items-center bg-purple-600 text-white rounded-t-2xl">
                    <h3 class="font-bold text-sm">âœ¨ Gemini åŠ©æ‰‹</h3>
                    <button onclick="toggleAIChat()"><i class="fas fa-times"></i></button>
                </div>
                <div id="ai-response-container" class="p-4 overflow-y-auto flex-grow text-sm text-gray-700">
                    æˆ‘å¯ä»¥å¹«æ‚¨æŸ¥è©¢æ™¯é» MapCode æˆ–æ¨è–¦å¯¶å¯¶é¤å–”ï¼
                </div>
                <div id="ai-loading" class="hidden p-4 text-center text-purple-600 font-medium">â—â—â—</div>
                <div class="p-4 border-t flex space-x-2">
                    <input id="ai-input" type="text" placeholder="è¼¸å…¥å•é¡Œ..." class="flex-grow border rounded-lg px-3 py-2 text-sm focus:outline-none">
                    <button onclick="handleCustomQuery()" class="bg-purple-600 text-white px-4 py-2 rounded-lg text-sm">å‚³é€</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t p-3 flex justify-around items-center max-w-md mx-auto shadow-2xl z-40">
        <button onclick="switchMainTab('itinerary')" class="text-center text-blue-600">
            <i class="fas fa-route block"></i>
            <span class="text-[10px]">ç²¾ç´°è¡Œç¨‹</span>
        </button>
        <button onclick="askGemini('å¹«æˆ‘åˆ—å‡ºæ²–ç¹© AEON Rycom é©åˆ 1 æ­²å°å­©çš„ç©å…·æ¸…å–®èˆ‡æ¨“å±¤æŒ‡å¼•')" class="text-center text-purple-600">
            <i class="fas fa-shopping-bag block"></i>
            <span class="text-[10px]">ç‰©è³‡æ¸…å–®</span>
        </button>
        <button onclick="toggleAIChat()" class="text-center text-gray-400">
            <i class="fas fa-comments block"></i>
            <span class="text-[10px]">å•åŠ©æ‰‹</span>
        </button>
    </nav>

    <script>
        let currentApiKey = localStorage.getItem('GEMINI_API_KEY') || "";

        function switchMainTab(tabId) {
            // åˆ‡æ›å¤§åˆ†é 
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById('content-' + tabId).classList.add('active');

            // æ›´æ–°æŒ‰éˆ•æ¨£å¼
            const tabs = ['itinerary', 'preparation', 'notes'];
            tabs.forEach(t => {
                const btn = document.getElementById('main-tab-' + t);
                if (t === tabId) {
                    btn.classList.add('bg-white', 'text-blue-700', 'shadow-sm');
                    btn.classList.remove('text-white');
                } else {
                    btn.classList.remove('bg-white', 'text-blue-700', 'shadow-sm');
                    btn.classList.add('text-white');
                }
            });
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showDay(day) {
            document.querySelectorAll('.day-card').forEach(card => card.classList.remove('active'));
            document.getElementById('day-' + day).classList.add('active');
            document.querySelectorAll('.day-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600', 'text-white', 'shadow-md');
                btn.classList.add('bg-white', 'text-gray-600', 'border', 'border-gray-200');
            });
            document.getElementById('btn-' + day).classList.add('bg-blue-600', 'text-white', 'shadow-md');
        }

        function setupApiKey() {
            const key = prompt("è¼¸å…¥ Gemini API Key:", currentApiKey);
            if (key !== null) {
                currentApiKey = key.trim();
                localStorage.setItem('GEMINI_API_KEY', currentApiKey);
                alert("é‡‘é‘°è¨­ç½®æˆåŠŸï¼");
            }
        }

        async function askGemini(query) {
            const container = document.getElementById('ai-response-container');
            const loading = document.getElementById('ai-loading');
            const modal = document.getElementById('ai-modal');
            modal.classList.remove('hidden');

            if (!currentApiKey) {
                container.innerHTML = "è«‹å…ˆé»æ“Šé ‚éƒ¨å°é‘°åŒ™è¨­ç½® API Keyã€‚";
                return;
            }

            loading.classList.remove('hidden');
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${currentApiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: query }] }],
                        systemInstruction: { parts: [{ text: "ä½ æ˜¯ä¸€ä½ç²¾é€šæ—¥æœ¬è¦ªå­æ—…éŠçš„å°éŠã€‚é€™å°å¤«å©¦å¸¶1æ­²4å€‹æœˆå°å­©å‰å¾€æ²–ç¹©æ—…éŠã€‚è«‹ä¾æå‡ºçš„å•é¡Œæä¾›ç¹é«”ä¸­æ–‡å»ºè­°ã€‚(ä»–å€‘ç›®å‰çš„è¡Œç¨‹è¦åŠƒè«‹åƒè€ƒhttps://haomingc.github.io/okinawa-2026/)" }] }
                    })
                });
                const data = await response.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "æŠ±æ­‰ï¼Œç›®å‰ç„¡æ³•å›æ‡‰ã€‚";
                container.innerHTML = text.replace(/\n/g, '<br>');
            } catch (e) {
                container.innerHTML = "é€£ç·šå¤±æ•—ï¼Œè«‹æª¢æŸ¥é‡‘é‘°æˆ–ç¶²è·¯ã€‚";
            } finally {
                loading.classList.add('hidden');
            }
        }

        function toggleAIChat() { document.getElementById('ai-modal').classList.toggle('hidden'); }
        function handleCustomQuery() {
            const input = document.getElementById('ai-input');
            if (input.value) { askGemini(input.value); input.value = ''; }
        }
    </script>
</body>
</html>
